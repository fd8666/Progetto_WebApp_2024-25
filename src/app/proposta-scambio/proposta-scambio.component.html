
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>TCG Exchange</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>



  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>

  <div class="container mt-5">
    <h2 class="mb-4">Proposta di Scambio</h2>

    <div class="carta">
      <h3 class="mb-0">Seleziona fino a 5 carte per lo scambio</h3>
      <div class="carti-selezionate">
        <div *ngFor="let carta of carteSelezionate; let i = index"
             (click)="toggleLista(i, $event)"
             class="carta-selezionata"
             [ngClass]="{'carta-vuota': !carta}"
             #cartaSelezionata>

          <img *ngIf="carta" [src]="carta.immagine" [alt]="carta.nome">
          <i *ngIf="!carta" class="fas fa-plus"></i>
        </div>
      </div>
    </div>
    <div class="container mt-5">
      <div class="message-container">
        <div class="mb-3">
          <label for="message" class="form-label"><i class="bi bi-envelope"></i> Messaggio</label>
          <textarea class="form-control" id="message" rows="5" placeholder="Scrivi il tuo messaggio..." required></textarea>
        </div>
      </div>
    </div>


    <div class="azioni mt-4">
      <button class="btn btn-primary btn-lg" (click)="inviaProposta()">
        <i class="fas fa-paper-plane"></i> Invia Proposta
      </button>
      <button class="btn btn-danger btn-lg" (click)="annullaProposta()">
        <i class="fas fa-times-circle"></i> Annulla
      </button>
    </div>
  </div>

  <!-- Lista carte disponibili, viene mostrata solo sotto la carta selezionata -->
  <div class="lista-carte" *ngIf="listaVisibile !== -1" [ngStyle]="{ 'top': posizioneLista.top + 'px', 'left': posizioneLista.left + 'px' }">
    <div *ngFor="let carta of carteDisponibili" (click)="selezionaCarta(carta)">
      {{ carta.nome }}
    </div>
  </div>
